<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mesh 330 B1 - Impression Europe | Imprixo</title>
    <meta name="description" content="Support textile Mesh 330 B1 ‚úì Prix 7‚Ç¨-11‚Ç¨/m¬≤ ‚úì Livraison Europe 3j ‚úì B1 ‚úì Fabrication UE">
    <link rel="canonical" href="https://imprixo.fr/produit/MESH-330-B1.html">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap');
        *{font-family:'Roboto',sans-serif}
        .btn-primary{background:linear-gradient(135deg,#e63946 0%,#d62839 100%);transition:all 0.3s}
        .btn-primary:hover{transform:translateY(-2px);box-shadow:0 8px 24px rgba(230,57,70,0.3)}
        .config-option{border:2px solid #e5e7eb;transition:all 0.2s;cursor:pointer}
        .config-option:hover{border-color:#e63946;background:#fff5f5}
        .config-option.selected{border-color:#e63946;background:#fff1f2;font-weight:700}
        .price-badge{animation:pulse 2s infinite}
        @keyframes pulse{0%,100%{opacity:1}50%{opacity:0.8}}
    </style>
</head>
<body class="bg-gray-50">
    <div id="header-placeholder"></div>
    <script>fetch('/includes/header.html').then(r=>r.text()).then(html=>document.getElementById('header-placeholder').innerHTML=html)</script>

    <div class="max-w-7xl mx-auto px-4 py-8">
        <nav class="text-sm mb-6">
            <a href="/index.html" class="text-gray-600 hover:text-red-600">Accueil</a>
            <span class="mx-2 text-gray-400">‚Ä∫</span>
            <a href="/catalogue.html" class="text-gray-600 hover:text-red-600">Catalogue</a>
            <span class="mx-2 text-gray-400">‚Ä∫</span>
            <span class="text-gray-900 font-semibold">Mesh 330 B1</span>
        </nav>

        <div class="bg-white rounded-xl shadow-lg p-6 md:p-8 mb-6">
            <h1 class="text-4xl font-black text-gray-900 mb-2">Mesh 330 B1</h1>
            <p class="text-xl text-gray-600 mb-4">Textile Mesh</p>
            <div class="flex flex-wrap items-center gap-4">
                <div class="bg-green-100 text-green-800 px-4 py-2 rounded-full font-semibold text-sm">‚úì Fabrication UE</div>
                <div class="bg-blue-100 text-blue-800 px-4 py-2 rounded-full font-semibold text-sm">üá™üá∫ Livraison Europe 3j</div>
                <div class="bg-red-100 text-red-800 px-4 py-2 rounded-full font-semibold text-sm">üî• Prix d√©gressifs</div>
            </div>
        </div>

        <div class="grid lg:grid-cols-3 gap-8">
            <!-- CONFIGURATEUR PRINCIPAL -->
            <div class="lg:col-span-2">
                <div class="bg-white rounded-xl shadow-lg p-6 md:p-8 mb-6">
                    <h2 class="text-2xl font-black text-gray-900 mb-6 flex items-center gap-3">
                        <span class="text-3xl">‚öôÔ∏è</span> Configurez votre produit
                    </h2>

                    <!-- Format -->
                    <div class="mb-6">
                        <label class="block text-sm font-bold text-gray-700 mb-3">üìê Format</label>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-3" id="format-selector">                            <div class="config-option rounded-lg p-3 text-center" data-format="A0 (84√ó119 cm)" data-w="84" data-h="119" data-custom="false">
                                <div class="font-semibold text-sm">A0 (84√ó119 cm)</div>
                            </div>                            <div class="config-option rounded-lg p-3 text-center" data-format="A1 (59√ó84 cm)" data-w="59" data-h="84" data-custom="false">
                                <div class="font-semibold text-sm">A1 (59√ó84 cm)</div>
                            </div>                            <div class="config-option rounded-lg p-3 text-center" data-format="A2 (42√ó59 cm)" data-w="42" data-h="59" data-custom="false">
                                <div class="font-semibold text-sm">A2 (42√ó59 cm)</div>
                            </div>                            <div class="config-option rounded-lg p-3 text-center" data-format="A3 (30√ó42 cm)" data-w="30" data-h="42" data-custom="false">
                                <div class="font-semibold text-sm">A3 (30√ó42 cm)</div>
                            </div>                            <div class="config-option rounded-lg p-3 text-center" data-format="A4 (21√ó30 cm)" data-w="21" data-h="30" data-custom="false">
                                <div class="font-semibold text-sm">A4 (21√ó30 cm)</div>
                            </div>                            <div class="config-option rounded-lg p-3 text-center" data-format="Kakemono 85√ó200 cm" data-w="85" data-h="200" data-custom="false">
                                <div class="font-semibold text-sm">Kakemono 85√ó200 cm</div>
                            </div>                            <div class="config-option rounded-lg p-3 text-center" data-format="Kakemono 100√ó200 cm" data-w="100" data-h="200" data-custom="false">
                                <div class="font-semibold text-sm">Kakemono 100√ó200 cm</div>
                            </div>                            <div class="config-option rounded-lg p-3 text-center" data-format="Roll-up 85√ó200 cm" data-w="85" data-h="200" data-custom="false">
                                <div class="font-semibold text-sm">Roll-up 85√ó200 cm</div>
                            </div>                            <div class="config-option rounded-lg p-3 text-center" data-format="Roll-up 100√ó200 cm" data-w="100" data-h="200" data-custom="false">
                                <div class="font-semibold text-sm">Roll-up 100√ó200 cm</div>
                            </div>                            <div class="config-option rounded-lg p-3 text-center" data-format="Roll-up 120√ó200 cm" data-w="120" data-h="200" data-custom="false">
                                <div class="font-semibold text-sm">Roll-up 120√ó200 cm</div>
                            </div>                            <div class="config-option rounded-lg p-3 text-center" data-format="X-Banner 60√ó160 cm" data-w="60" data-h="160" data-custom="false">
                                <div class="font-semibold text-sm">X-Banner 60√ó160 cm</div>
                            </div>                            <div class="config-option rounded-lg p-3 text-center" data-format="X-Banner 80√ó180 cm" data-w="80" data-h="180" data-custom="false">
                                <div class="font-semibold text-sm">X-Banner 80√ó180 cm</div>
                            </div>                            <div class="config-option rounded-lg p-3 text-center" data-format="L-Banner 80√ó200 cm" data-w="80" data-h="200" data-custom="false">
                                <div class="font-semibold text-sm">L-Banner 80√ó200 cm</div>
                            </div>                            <div class="config-option rounded-lg p-3 text-center" data-format="Panneau 40√ó60 cm" data-w="40" data-h="60" data-custom="false">
                                <div class="font-semibold text-sm">Panneau 40√ó60 cm</div>
                            </div>                            <div class="config-option rounded-lg p-3 text-center" data-format="Panneau 60√ó80 cm" data-w="60" data-h="80" data-custom="false">
                                <div class="font-semibold text-sm">Panneau 60√ó80 cm</div>
                            </div>                            <div class="config-option rounded-lg p-3 text-center" data-format="Panneau 80√ó120 cm" data-w="80" data-h="120" data-custom="false">
                                <div class="font-semibold text-sm">Panneau 80√ó120 cm</div>
                            </div>                            <div class="config-option rounded-lg p-3 text-center" data-format="Panneau 100√ó150 cm" data-w="100" data-h="150" data-custom="false">
                                <div class="font-semibold text-sm">Panneau 100√ó150 cm</div>
                            </div>                            <div class="config-option rounded-lg p-3 text-center" data-format="Carr√© 50√ó50 cm" data-w="50" data-h="50" data-custom="false">
                                <div class="font-semibold text-sm">Carr√© 50√ó50 cm</div>
                            </div>                            <div class="config-option rounded-lg p-3 text-center" data-format="Carr√© 80√ó80 cm" data-w="80" data-h="80" data-custom="false">
                                <div class="font-semibold text-sm">Carr√© 80√ó80 cm</div>
                            </div>                            <div class="config-option rounded-lg p-3 text-center" data-format="Carr√© 100√ó100 cm" data-w="100" data-h="100" data-custom="false">
                                <div class="font-semibold text-sm">Carr√© 100√ó100 cm</div>
                            </div>                            <div class="config-option rounded-lg p-3 text-center" data-format="200√ó100 cm" data-w="200" data-h="100" data-custom="false">
                                <div class="font-semibold text-sm">200√ó100 cm</div>
                            </div>                            <div class="config-option rounded-lg p-3 text-center" data-format="300√ó100 cm" data-w="300" data-h="100" data-custom="false">
                                <div class="font-semibold text-sm">300√ó100 cm</div>
                            </div>                            <div class="config-option rounded-lg p-3 text-center" data-format="300√ó200 cm" data-w="300" data-h="200" data-custom="false">
                                <div class="font-semibold text-sm">300√ó200 cm</div>
                            </div>                            <div class="config-option rounded-lg p-3 text-center" data-format="400√ó200 cm" data-w="400" data-h="200" data-custom="false">
                                <div class="font-semibold text-sm">400√ó200 cm</div>
                            </div>                            <div class="config-option rounded-lg p-3 text-center" data-format="Personnalis√©" data-w="100" data-h="100" data-custom="true">
                                <div class="font-semibold text-sm">Personnalis√©</div>
                            </div>                        </div>
                    </div>

                    <!-- Dimensions personnalis√©es -->
                    <div class="grid grid-cols-2 gap-4 mb-6" id="custom-dimensions" style="display:none">
                        <div>
                            <label class="block text-sm font-bold text-gray-700 mb-2">Largeur (cm)</label>
                            <input type="number" id="largeur" value="100" min="10" max="500" step="1" class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-red-600 focus:outline-none font-bold text-lg">
                        </div>
                        <div>
                            <label class="block text-sm font-bold text-gray-700 mb-2">Hauteur (cm)</label>
                            <input type="number" id="hauteur" value="100" min="10" max="500" step="1" class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-red-600 focus:outline-none font-bold text-lg">
                        </div>
                    </div>

                    <!-- Quantit√© -->
                    <div class="mb-6">
                        <label class="block text-sm font-bold text-gray-700 mb-2">üì¶ Quantit√©</label>
                        <input type="number" id="quantite" value="1" min="1" max="1000" class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-red-600 focus:outline-none font-bold text-lg">
                        <p class="text-xs text-gray-500 mt-1">Prix d√©gressifs selon quantit√©</p>
                    </div>

                    <!-- Options -->
                    <div class="mb-6">
                        <label class="block text-sm font-bold text-gray-700 mb-3">üé® Finition</label>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
                            <div class="config-option rounded-lg p-4 selected" data-option="standard" data-prix="0">
                                <div class="font-bold">Standard</div>
                                <div class="text-sm text-gray-600">Inclus</div>
                            </div>
                            <div class="config-option rounded-lg p-4" data-option="oeillets" data-prix="5">
                                <div class="font-bold">Avec ≈ìillets</div>
                                <div class="text-sm text-gray-600">+5‚Ç¨</div>
                            </div>
                            <div class="config-option rounded-lg p-4" data-option="support" data-prix="12">
                                <div class="font-bold">Sur support</div>
                                <div class="text-sm text-gray-600">+12‚Ç¨/m¬≤</div>
                            </div>
                        </div>
                    </div>

                    <!-- Upload fichier -->
                    <div class="mb-6">
                        <label class="block text-sm font-bold text-gray-700 mb-3">üìÅ Votre fichier (optionnel)</label>
                        <div class="border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-red-600 transition cursor-pointer" id="upload-zone">
                            <div class="text-4xl mb-3">üì§</div>
                            <div class="font-bold text-gray-900 mb-2">Glissez votre fichier ici</div>
                            <div class="text-sm text-gray-600 mb-3">ou cliquez pour parcourir</div>
                            <div class="text-xs text-gray-500">PDF, AI, EPS, PNG, JPG ‚Ä¢ Max 100 Mo ‚Ä¢ 300 DPI recommand√©</div>
                            <input type="file" id="file-input" class="hidden" accept=".pdf,.ai,.eps,.png,.jpg,.jpeg">
                        </div>
                        <p class="text-sm text-gray-600 mt-2">üí° Vous pouvez aussi commander maintenant et envoyer votre fichier plus tard</p>
                    </div>

                    <!-- Notice technique fichier -->
                    <div class="bg-yellow-50 border-2 border-yellow-400 rounded-lg p-6 mb-6">
                        <h3 class="font-bold text-yellow-900 mb-4 flex items-center gap-2 text-lg">
                            <span class="text-2xl">üìê</span> Sp√©cifications techniques du fichier
                        </h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm mb-4">
                            <div class="bg-white p-3 rounded border border-yellow-300">
                                <div class="text-yellow-800 font-semibold mb-1">üìè Format fini (apr√®s coupe)</div>
                                <div class="text-xl font-black text-gray-900" id="spec-format-fini">100 √ó 100 cm</div>
                            </div>
                            <div class="bg-white p-3 rounded border border-red-300">
                                <div class="text-red-700 font-semibold mb-1">üìê Format √† fournir (avec fond perdu)</div>
                                <div class="text-xl font-black text-red-600" id="spec-format-fourni">100.6 √ó 100.6 cm</div>
                            </div>
                            <div class="bg-white p-3 rounded border border-green-300">
                                <div class="text-green-700 font-semibold mb-1">‚úì Zone de s√©curit√© (textes/logos)</div>
                                <div class="text-lg font-bold text-green-600" id="spec-zone-securite">94 √ó 94 cm</div>
                            </div>
                            <div class="bg-white p-3 rounded border border-blue-300">
                                <div class="text-blue-700 font-semibold mb-1">üñ®Ô∏è R√©solution minimale</div>
                                <div class="text-lg font-bold text-gray-900">300 DPI (haute qualit√©)</div>
                            </div>
                        </div>
                        <div class="bg-white rounded border-2 border-yellow-300 p-4">
                            <div class="font-bold text-gray-900 mb-3 flex items-center gap-2">
                                <span>üí°</span> Informations importantes pour votre fichier
                            </div>
                            <ul class="text-xs text-gray-700 space-y-2">
                                <li class="flex items-start gap-2">
                                    <span class="text-red-600 font-bold">‚Ä¢</span>
                                    <span><strong>Fond perdu (3mm):</strong> Prolongez vos visuels de 3mm de chaque c√¥t√© pour √©viter les liser√©s blancs apr√®s d√©coupe</span>
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="text-green-600 font-bold">‚Ä¢</span>
                                    <span><strong>Zone de s√©curit√©:</strong> Placez vos textes et logos importants √† minimum 3mm du bord de coupe</span>
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="text-blue-600 font-bold">‚Ä¢</span>
                                    <span><strong>Formats accept√©s:</strong> PDF (vectoriel recommand√©), AI, EPS, PNG, JPG, TIFF</span>
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="text-purple-600 font-bold">‚Ä¢</span>
                                    <span><strong>Profil couleur:</strong> CMJN (CMYK) obligatoire pour l'impression professionnelle</span>
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="text-orange-600 font-bold">‚Ä¢</span>
                                    <span><strong>R√©solution:</strong> 300 DPI minimum pour une qualit√© optimale ‚Ä¢ 150 DPI acceptable pour grands formats (>2m)</span>
                                </li>
                            </ul>
                        </div>
                    </div>

                    <!-- R√©sum√© config -->
                    <div class="bg-blue-50 border-2 border-blue-200 rounded-lg p-6">
                        <h3 class="font-bold text-blue-900 mb-3">üìã R√©sum√© de votre configuration</h3>
                        <div class="grid grid-cols-2 gap-3 text-sm">
                            <div><span class="text-gray-600">Format:</span> <span class="font-bold" id="resume-format">-</span></div>
                            <div><span class="text-gray-600">Dimensions:</span> <span class="font-bold" id="resume-dims">-</span></div>
                            <div><span class="text-gray-600">Surface:</span> <span class="font-bold" id="resume-surface">-</span></div>
                            <div><span class="text-gray-600">Quantit√©:</span> <span class="font-bold" id="resume-qte">-</span></div>
                            <div><span class="text-gray-600">Finition:</span> <span class="font-bold" id="resume-finition">Standard</span></div>
                            <div><span class="text-gray-600">D√©lai:</span> <span class="font-bold text-green-700">3 jours ouvr√©s</span></div>
                        </div>
                    </div>
                </div>

                <!-- Description produit -->
                <div class="bg-white rounded-xl shadow-lg p-6 md:p-8 mb-6">
                    <h2 class="text-2xl font-black text-gray-900 mb-4">üìù Description</h2>
                    <p class="text-lg text-gray-700 mb-4 font-medium">Support textile Mesh 330 B1</p>
                    <p class="text-gray-600 leading-relaxed">Support textile professionnel Mesh 330 B1. Impression HD haute d√©finition. Id√©al pour √©v√©nementiel, stands, kak√©monos, roll-ups.</p>

                    <div class="mt-6 bg-green-50 border-l-4 border-green-600 p-4 rounded">
                        <div class="font-bold text-green-900 mb-2">üá™üá∫ Fabrication europ√©enne de qualit√©</div>
                        <p class="text-sm text-green-800">Produit fabriqu√© en Europe par <strong>OLB SPORTS OOD</strong> (Bulgarie). Livraison dans toute l'Europe en 3 jours ouvr√©s.</p>
                    </div>
                </div>

                <!-- Caract√©ristiques -->
                <div class="bg-white rounded-xl shadow-lg p-6 md:p-8">
                    <h2 class="text-2xl font-black text-gray-900 mb-6">‚öôÔ∏è Caract√©ristiques techniques</h2>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="bg-blue-50 border-l-4 border-blue-600 rounded-lg p-4">
                            <div class="text-sm text-blue-700 font-medium">Poids</div>
                            <div class="text-lg font-black text-gray-900">0.3 kg/m¬≤</div>
                        </div>
                        <div class="bg-blue-50 border-l-4 border-blue-600 rounded-lg p-4">
                            <div class="text-sm text-blue-700 font-medium">√âpaisseur</div>
                            <div class="text-lg font-black text-gray-900">-</div>
                        </div>
                        <div class="bg-blue-50 border-l-4 border-blue-600 rounded-lg p-4">
                            <div class="text-sm text-blue-700 font-medium">Format maximum</div>
                            <div class="text-lg font-black text-gray-900">Illimit√© cm</div>
                        </div>
                        <div class="bg-blue-50 border-l-4 border-blue-600 rounded-lg p-4">
                            <div class="text-sm text-blue-700 font-medium">Usage</div>
                            <div class="text-lg font-black text-gray-900">Int√©rieur/Ext√©rieur selon produit</div>
                        </div>
                        <div class="bg-blue-50 border-l-4 border-blue-600 rounded-lg p-4">
                            <div class="text-sm text-blue-700 font-medium">Dur√©e de vie</div>
                            <div class="text-lg font-black text-gray-900">2-5 ans</div>
                        </div>
                        <div class="bg-blue-50 border-l-4 border-blue-600 rounded-lg p-4">
                            <div class="text-sm text-blue-700 font-medium">Certification</div>
                            <div class="text-lg font-black text-gray-900">B1</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SIDEBAR PRIX & COMMANDE -->
            <div class="lg:col-span-1">
                <div class="sticky top-24 bg-white rounded-xl shadow-lg p-6">
                    <div class="text-sm text-gray-600 mb-2">Prix TTC √† partir de</div>
                    <div class="text-5xl font-black text-gray-900 mb-1 price-badge" id="prix-unitaire">7‚Ç¨</div>
                    <div class="text-lg text-gray-600 mb-6">/m¬≤</div>

                    <div class="bg-gradient-to-r from-red-50 to-orange-50 border-2 border-red-200 rounded-lg p-4 mb-6">
                        <div class="text-sm font-semibold text-red-900 mb-2">üí∞ PRIX TOTAL TTC</div>
                        <div class="text-3xl font-black text-red-600" id="prix-total">-</div>
                        <div class="text-xs text-red-700 mt-2">TVA incluse ‚Ä¢ Livraison Europe</div>
                    </div>

                    <button class="w-full btn-primary text-white py-4 rounded-lg font-black text-lg mb-3 shadow-lg" id="btn-add-cart">
                        üõí AJOUTER AU PANIER
                    </button>

                    <button class="w-full border-2 border-gray-300 text-gray-700 py-3 rounded-lg font-bold hover:border-red-600 hover:text-red-600 transition mb-6">
                        üìÑ Demander un devis
                    </button>

                    <!-- Trust badges -->
                    <div class="grid grid-cols-2 gap-3 mb-6">
                        <div class="text-center p-3 bg-gray-50 rounded-lg">
                            <div class="text-2xl mb-1">üá™üá∫</div>
                            <div class="text-xs font-bold text-gray-700">Fabrication UE</div>
                        </div>
                        <div class="text-center p-3 bg-gray-50 rounded-lg">
                            <div class="text-2xl mb-1">üöö</div>
                            <div class="text-xs font-bold text-gray-700">Livraison 3j</div>
                        </div>
                        <div class="text-center p-3 bg-gray-50 rounded-lg">
                            <div class="text-2xl mb-1">‚úì</div>
                            <div class="text-xs font-bold text-gray-700">Qualit√© garantie</div>
                        </div>
                        <div class="text-center p-3 bg-gray-50 rounded-lg">
                            <div class="text-2xl mb-1">üîí</div>
                            <div class="text-xs font-bold text-gray-700">Paiement s√©curis√©</div>
                        </div>
                    </div>

                    <div class="border-t pt-4 text-sm text-gray-600 space-y-2">
                        <div>‚úì Livraison gratuite d√®s 200‚Ç¨</div>
                        <div>‚úì Fichiers techniques fournis</div>
                        <div>‚úì Support client 7j/7</div>
                        <div>‚úì Paiement s√©curis√© (CB, PayPal)</div>
                    </div>

                    <!-- Prix d√©gressifs -->
                    <div class="mt-6 pt-6 border-t">
                        <h3 class="font-bold text-gray-900 mb-3">üí∞ Prix d√©gressifs au m¬≤</h3>
                        <div class="space-y-2 text-sm">
                            <div class="flex justify-between"><span>0-10 m¬≤</span><span class="font-bold">11‚Ç¨/m¬≤</span></div>
                            <div class="flex justify-between"><span>11-50 m¬≤</span><span class="font-bold text-green-700">9.7‚Ç¨/m¬≤</span></div>
                            <div class="flex justify-between"><span>51-100 m¬≤</span><span class="font-bold text-green-700">8.8‚Ç¨/m¬≤</span></div>
                            <div class="flex justify-between"><span>101-300 m¬≤</span><span class="font-bold text-green-700">7.9‚Ç¨/m¬≤</span></div>
                            <div class="flex justify-between bg-red-50 p-2 rounded"><span class="font-bold">300+ m¬≤</span><span class="font-black text-red-600">7‚Ç¨/m¬≤</span></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="footer-placeholder"></div>
    <script>fetch('/includes/footer.html').then(r=>r.text()).then(html=>document.getElementById('footer-placeholder').innerHTML=html)</script>

    <script>
    // CONFIGURATEUR PRODUIT COMPLET
    const PRODUIT = {
        id: 'MESH-330-B1',
        nom: 'Mesh 330 B1',
        prix: {
            '0-10': 11,
            '11-50': 9.7,
            '51-100': 8.8,
            '101-300': 7.9,
            '300+': 7
        },
        delai: 3
    };

    let config = {
        largeur: 100,
        hauteur: 100,
        quantite: 1,
        finition: 'standard',
        prixFinition: 0,
        format: 'Personnalis√©',
        fichier: null
    };

    // S√©lection format
    document.querySelectorAll('[data-format]').forEach(el => {
        el.addEventListener('click', function() {
            document.querySelectorAll('[data-format]').forEach(e => e.classList.remove('selected'));
            this.classList.add('selected');

            config.format = this.dataset.format;
            config.largeur = parseFloat(this.dataset.w);
            config.hauteur = parseFloat(this.dataset.h);

            const isCustom = this.dataset.custom === 'true';
            document.getElementById('custom-dimensions').style.display = isCustom ? 'grid' : 'none';

            if (!isCustom) {
                document.getElementById('largeur').value = config.largeur;
                document.getElementById('hauteur').value = config.hauteur;
            }

            calculerPrix();
        });
    });

    // Premier format s√©lectionn√© par d√©faut
    document.querySelector('[data-format]').click();

    // Dimensions personnalis√©es
    ['largeur', 'hauteur'].forEach(dim => {
        document.getElementById(dim).addEventListener('input', function() {
            config[dim] = parseFloat(this.value) || 0;
            config.format = 'Personnalis√©';
            calculerPrix();
        });
    });

    // Quantit√©
    document.getElementById('quantite').addEventListener('input', function() {
        config.quantite = parseInt(this.value) || 1;
        calculerPrix();
    });

    // Options finition
    document.querySelectorAll('[data-option]').forEach(el => {
        el.addEventListener('click', function() {
            document.querySelectorAll('[data-option]').forEach(e => e.classList.remove('selected'));
            this.classList.add('selected');
            config.finition = this.dataset.option;
            config.prixFinition = parseFloat(this.dataset.prix);
            document.getElementById('resume-finition').textContent = this.querySelector('.font-bold').textContent;
            calculerPrix();
        });
    });

    // Upload fichier
    const uploadZone = document.getElementById('upload-zone');
    const fileInput = document.getElementById('file-input');

    uploadZone.addEventListener('click', () => fileInput.click());

    uploadZone.addEventListener('dragover', e => {
        e.preventDefault();
        uploadZone.classList.add('border-red-600');
    });

    uploadZone.addEventListener('dragleave', () => {
        uploadZone.classList.remove('border-red-600');
    });

    uploadZone.addEventListener('drop', e => {
        e.preventDefault();
        uploadZone.classList.remove('border-red-600');
        if (e.dataTransfer.files.length) {
            handleFile(e.dataTransfer.files[0]);
        }
    });

    fileInput.addEventListener('change', function() {
        if (this.files.length) {
            handleFile(this.files[0]);
        }
    });

    function handleFile(file) {
        config.fichier = file;
        uploadZone.innerHTML = `
            <div class="text-4xl mb-3">‚úì</div>
            <div class="font-bold text-green-700 mb-2">${file.name}</div>
            <div class="text-sm text-gray-600">${(file.size / 1024 / 1024).toFixed(2)} Mo</div>
        `;
    }

    // Calcul prix
    function calculerPrix() {
        const surface = (config.largeur * config.hauteur) / 10000;
        const surfaceTotale = surface * config.quantite;

        // Prix d√©gressif
        let prixM2;
        if (surfaceTotale > 300) prixM2 = PRODUIT.prix['300+'];
        else if (surfaceTotale > 100) prixM2 = PRODUIT.prix['101-300'];
        else if (surfaceTotale > 50) prixM2 = PRODUIT.prix['51-100'];
        else if (surfaceTotale > 10) prixM2 = PRODUIT.prix['11-50'];
        else prixM2 = PRODUIT.prix['0-10'];

        const prixImpression = prixM2 * surface * config.quantite;
        const prixOptions = config.prixFinition * (config.prixFinition > 20 ? 1 : surface) * config.quantite;
        const prixTotal = prixImpression + prixOptions;

        // Affichage
        document.getElementById('prix-unitaire').textContent = prixM2.toFixed(2) + '‚Ç¨';
        document.getElementById('prix-total').textContent = prixTotal.toFixed(2) + ' ‚Ç¨';

        // R√©sum√©
        document.getElementById('resume-format').textContent = config.format;
        document.getElementById('resume-dims').textContent = `${config.largeur}√ó${config.hauteur} cm`;
        document.getElementById('resume-surface').textContent = surface.toFixed(2) + ' m¬≤';
        document.getElementById('resume-qte').textContent = config.quantite;

        // Sp√©cifications techniques fichier
        const fondPerdu = 0.3; // 3mm = 0.3cm de chaque c√¥t√©
        const largeurAvecFondPerdu = config.largeur + (fondPerdu * 2);
        const hauteurAvecFondPerdu = config.hauteur + (fondPerdu * 2);
        const largeurSecurite = config.largeur - (fondPerdu * 2);
        const hauteurSecurite = config.hauteur - (fondPerdu * 2);

        document.getElementById('spec-format-fini').textContent = `${config.largeur} √ó ${config.hauteur} cm`;
        document.getElementById('spec-format-fourni').textContent = `${largeurAvecFondPerdu.toFixed(1)} √ó ${hauteurAvecFondPerdu.toFixed(1)} cm`;
        document.getElementById('spec-zone-securite').textContent = `${largeurSecurite.toFixed(1)} √ó ${hauteurSecurite.toFixed(1)} cm`;
    }

    // Ajout au panier
    document.getElementById('btn-add-cart').addEventListener('click', function() {
        const cart = JSON.parse(localStorage.getItem('cart') || '[]');

        cart.push({
            id: PRODUIT.id,
            nom: PRODUIT.nom,
            config: {...config},
            prix: parseFloat(document.getElementById('prix-total').textContent),
            date: new Date().toISOString()
        });

        localStorage.setItem('cart', JSON.stringify(cart));

        this.textContent = '‚úì AJOUT√â AU PANIER';
        this.style.background = '#10b981';

        setTimeout(() => {
            window.location.href = '/panier.html';
        }, 1000);
    });

    // Calcul initial
    calculerPrix();
    </script>
</body>
</html>