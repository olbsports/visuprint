// Initialiser les produits en localStorage depuis le CSV (une seule fois)
function initProductsIfNeeded() {
    // Si les produits existent déjà, ne rien faire
    if (localStorage.getItem('products')) {
        return;
    }

    // Données produits depuis le CSV (54 produits)
    const products = [
        {id: 'FX-2MM', categorie: 'PVC', nom: 'Forex 2mm (PVC Foam)', soustitre: 'PVC Foam - Ultra léger', desc_courte: 'PVC expansé 2mm pour affichage léger', desc_longue: 'Panneau PVC expansé ultra-léger 2mm. Structure alvéolaire fine.', prix_0_10: 32, prix_11_50: 28, prix_51_100: 25, prix_101_300: 22, prix_300_plus: 20, delai: 3, certification: 'M1 - Ignifugé', image_url: 'https://images.unsplash.com/photo-1626785774573-4b799315345d?w=600&h=400&fit=crop', finitions: [{nom: 'Standard', desc: 'Inclus', prix: 0}, {nom: 'Contrecollage', desc: '+8€/m²', prix: 8}, {nom: 'Découpe forme', desc: '+15€', prix: 15}]},
        {id: 'FX-3MM', categorie: 'PVC', nom: 'Forex 3mm (PVC Foam)', soustitre: 'PVC Foam - Standard polyvalent', desc_courte: 'PVC expansé 3mm - Le plus populaire', desc_longue: 'Panneau PVC expansé 3mm, standard du marché.', prix_0_10: 32, prix_11_50: 28, prix_51_100: 25, prix_101_300: 22, prix_300_plus: 20, delai: 3, certification: 'M1 - Ignifugé', image_url: 'https://images.unsplash.com/photo-1626785774573-4b799315345d?w=600&h=400&fit=crop', finitions: [{nom: 'Standard', desc: 'Inclus', prix: 0}, {nom: 'Contrecollage', desc: '+8€/m²', prix: 8}, {nom: 'Découpe forme', desc: '+15€', prix: 15}]},
        {id: 'FX-5MM', categorie: 'PVC', nom: 'Forex 5mm (PVC Foam)', soustitre: 'PVC Foam - Rigidité supérieure', desc_courte: 'PVC expansé 5mm pour enseignes durables', desc_longue: 'Panneau PVC expansé 5mm renforcé. Excellente rigidité.', prix_0_10: 45, prix_11_50: 40, prix_51_100: 36, prix_101_300: 33, prix_300_plus: 30, delai: 3, certification: 'M1 - Ignifugé', image_url: 'https://images.unsplash.com/photo-1626785774573-4b799315345d?w=600&h=400&fit=crop', finitions: [{nom: 'Standard', desc: 'Inclus', prix: 0}, {nom: 'Contrecollage', desc: '+8€/m²', prix: 8}, {nom: 'Découpe forme', desc: '+15€', prix: 15}]},
        {id: 'FX-8MM', categorie: 'PVC', nom: 'Forex 8mm (PVC Foam)', soustitre: 'PVC Foam - Haute rigidité', desc_courte: 'PVC expansé 8mm ultra-rigide', desc_longue: 'Panneau PVC expansé 8mm ultra-rigide.', prix_0_10: 58, prix_11_50: 52, prix_51_100: 48, prix_101_300: 44, prix_300_plus: 40, delai: 3, certification: 'M1 - Ignifugé', image_url: 'https://images.unsplash.com/photo-1626785774573-4b799315345d?w=600&h=400&fit=crop', finitions: [{nom: 'Standard', desc: 'Inclus', prix: 0}, {nom: 'Contrecollage', desc: '+8€/m²', prix: 8}, {nom: 'Découpe forme', desc: '+15€', prix: 15}]},
        {id: 'FX-10MM', categorie: 'PVC', nom: 'Forex 10mm (PVC Foam)', soustitre: 'PVC Foam - Maximum rigidité', desc_courte: 'PVC expansé 10mm très rigide', desc_longue: 'Panneau PVC expansé 10mm maximum rigidité.', prix_0_10: 72, prix_11_50: 65, prix_51_100: 60, prix_101_300: 55, prix_300_plus: 50, delai: 3, certification: 'M1 - Ignifugé', image_url: 'https://images.unsplash.com/photo-1626785774573-4b799315345d?w=600&h=400&fit=crop', finitions: [{nom: 'Standard', desc: 'Inclus', prix: 0}, {nom: 'Contrecollage', desc: '+8€/m²', prix: 8}, {nom: 'Découpe forme', desc: '+15€', prix: 15}]},
        {id: 'DB-2MM', categorie: 'Aluminium', nom: 'Dibond Alu 2mm', soustitre: 'Aluminium composite - Léger', desc_courte: 'Panneau alu composite 2mm léger', desc_longue: 'Dibond 2mm, panneau composite aluminium.', prix_0_10: 40, prix_11_50: 36, prix_51_100: 33, prix_101_300: 30, prix_300_plus: 28, delai: 4, certification: 'Classé feu B-s2,d0', image_url: 'https://images.unsplash.com/photo-1603912699214-92627f304eb6?w=600&h=400&fit=crop', finitions: [{nom: 'Standard', desc: 'Inclus', prix: 0}, {nom: 'Perçage angles', desc: '+8€', prix: 8}, {nom: 'Cadre aluminium', desc: '+25€', prix: 25}]},
        {id: 'DB-3MM', categorie: 'Aluminium', nom: 'Dibond Alu 3mm', soustitre: 'Aluminium composite - Standard', desc_courte: 'Panneau alu composite 3mm rigide', desc_longue: 'Dibond 3mm, standard marché.', prix_0_10: 48, prix_11_50: 43, prix_51_100: 40, prix_101_300: 37, prix_300_plus: 35, delai: 4, certification: 'Classé feu B-s2,d0', image_url: 'https://images.unsplash.com/photo-1603912699214-92627f304eb6?w=600&h=400&fit=crop', finitions: [{nom: 'Standard', desc: 'Inclus', prix: 0}, {nom: 'Perçage angles', desc: '+8€', prix: 8}, {nom: 'Cadre aluminium', desc: '+25€', prix: 25}]},
        {id: 'DB-3MM-BRUSH', categorie: 'Aluminium', nom: 'Dibond Alu 3mm Brossé', soustitre: 'Aluminium composite - Premium', desc_courte: 'Panneau alu brossé haut de gamme', desc_longue: 'Dibond 3mm finition brossée.', prix_0_10: 55, prix_11_50: 50, prix_51_100: 46, prix_101_300: 43, prix_300_plus: 40, delai: 5, certification: 'Classé feu B-s2,d0', image_url: 'https://images.unsplash.com/photo-1603912699214-92627f304eb6?w=600&h=400&fit=crop', finitions: [{nom: 'Standard', desc: 'Inclus', prix: 0}, {nom: 'Perçage angles', desc: '+8€', prix: 8}, {nom: 'Cadre aluminium', desc: '+25€', prix: 25}]},
        {id: 'POLYGLANS-115G', categorie: 'Textile', nom: 'Polyglans 115g', soustitre: 'Textile flag - Soyeux', desc_courte: 'Textile flag léger et brillant', desc_longue: 'Polyglans 115g, textile soyeux.', prix_0_10: 14, prix_11_50: 12, prix_51_100: 11, prix_101_300: 10, prix_300_plus: 9, delai: 3, certification: 'Standard', image_url: 'https://images.unsplash.com/photo-1558769132-cb1aea9ccff1?w=600&h=400&fit=crop', finitions: [{nom: 'Standard', desc: 'Inclus', prix: 0}, {nom: 'Baguettes haut/bas', desc: '+18€', prix: 18}, {nom: 'Confection suspendue', desc: '+25€', prix: 25}]},
        {id: 'MESH-330-B1', categorie: 'Bache', nom: 'Mesh 330 B1', soustitre: 'Bâche micro-perforée', desc_courte: 'Bâche mesh anti-vent', desc_longue: 'Mesh 330g micro-perforé.', prix_0_10: 18, prix_11_50: 16, prix_51_100: 14, prix_101_300: 13, prix_300_plus: 12, delai: 4, certification: 'B1 - Ignifugé', image_url: 'https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=600&h=400&fit=crop', finitions: [{nom: 'Standard', desc: 'Inclus', prix: 0}, {nom: 'Œillets (tous les 50cm)', desc: '+12€', prix: 12}, {nom: 'Ourlet soudé', desc: '+8€/ml', prix: 8}]}
    ];

    // Sauvegarder
    localStorage.setItem('products', JSON.stringify(products));
    console.log('Produits initialisés:', products.length);
}

// Appeler automatiquement au chargement
if (typeof window !== 'undefined') {
    initProductsIfNeeded();
}
